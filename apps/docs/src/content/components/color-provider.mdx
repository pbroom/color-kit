import { ComponentPreview } from '@/components/component-preview';
import { ApiTable } from '@/components/api-table';
import { componentApiDocs } from './component-api';
import { ColorProviderDemo } from '@/components/component-demos';

# Color Provider

`ColorProvider` shares a dual-state contract across nested color-kit components:

- `requested`: user intent in canonical OKLCH
- `displayed`: deterministic sRGB and Display P3 mapped values

<ComponentPreview>
  <ColorProviderDemo />
</ComponentPreview>

## API

<ApiTable rows={componentApiDocs.colorProvider} />

## Usage

```tsx
import {
  ColorProvider,
  ColorArea,
  ColorSlider,
  ColorInput,
  ColorStringInput,
} from '@color-kit/react';

export function Picker() {
  return (
    <ColorProvider defaultColor="#3b82f6">
      <ColorArea />
      <ColorSlider channel="h" />
      <ColorInput model="oklch" channel="h" />
      <ColorStringInput format="oklch" />
    </ColorProvider>
  );
}
```

## Non-UI API helpers

Use `useColor` outside UI composition when you need direct control over:

- `setRequested` / `setChannel` updates
- `activeGamut` switching (`srgb` / `display-p3`)
- `requested` versus `displayed` rendering semantics
